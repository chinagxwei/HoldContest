<nz-modal [nzWidth]="1440" nzMaskClosable="false" [(nzVisible)]="visible" nzTitle="房间结算"
          (nzOnCancel)="handleCancel()">
  <div *nzModalContent>
    <form nz-form [formGroup]="validateForm">
      <div nz-row>
        <div nz-col nzSpan="12" style="overflow-y: auto;max-height: 600px;">
          <nz-col [nzSpan]="24" *ngFor="let control of listOfControl; let i = index">
            <nz-card>
              <nz-form-item>
                <nz-form-label>会员</nz-form-label>
                <nz-form-control>
                  {{control.member_id}}
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-label nzRequired [nzFor]="control.controlInstance">选择结算
                </nz-form-label>
                <nz-form-control nzErrorTip="请选择结束状态!">
                  <nz-radio-group style="display: inline-grid" [attr.id]="control.id"
                                  [formControlName]="control.controlInstance">
                    <label nz-radio nzValue="-5">挂机送人头</label>
                    <label nz-radio nzValue="-4">账户不一致</label>
                    <label nz-radio nzValue="-3">不上场卡比赛</label>
                    <label nz-radio nzValue="-2">恶意占队</label>
                    <label nz-radio nzValue="-1">
                    <span style="display: flex;align-items: center;"><span style="margin-right: 10px;">输</span>
                    <nz-select *ngIf="validateForm.value[control.controlInstance] === '-1'"
                               nzShowSearch
                               nzPlaceHolder="选择奖励"
                               [formControlName]="'value_'+control.controlInstance">
                      <nz-option *ngFor="let option of listOfOption" [nzLabel]="option.title"
                                 [nzValue]="option.id"></nz-option>
                    </nz-select>
                      </span>
                    </label>
                    <label nz-radio nzValue="1">
                    <span style="display: flex;align-items: center;"><span style="margin-right: 10px;">赢</span>
                    <nz-select *ngIf="validateForm.value[control.controlInstance] === '1'"
                               nzShowSearch
                               nzPlaceHolder="选择奖励"
                               [formControlName]="'value_'+control.controlInstance">
                      <nz-option *ngFor="let option of listOfOption" [nzLabel]="option.title"
                                 [nzValue]="option.id"></nz-option>
                    </nz-select>
                    </span>
                    </label>
                  </nz-radio-group>
                </nz-form-control>
              </nz-form-item>
            </nz-card>
          </nz-col>
        </div>
        <div nz-col nzSpan="12">
          <nz-col [nzSpan]="24" style="text-align: center">
            <iframe [src]="decodeUrl" sandbox="allow-forms allow-same-origin allow-top-navigation allow-scripts" seamless width="375"
                    height="667" frameborder="0" name="youdaoFrame"></iframe>
          </nz-col>
        </div>
      </div>
    </form>
  </div>
  <div *nzModalFooter>
    <button nz-button nzType="default" (click)="handleCancel()">关闭</button>
    <button nz-button nzType="primary" (click)="handleSettlementRoom()">结算</button>
  </div>
</nz-modal>
